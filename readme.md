# HVZ

A system to manage household items.

## REST-API

### Return Structure

Always returns a JSON-Object, except when get all was called.

#### Structure:

|    Field   |                          Description                          |
|:----------:|---------------------------------------------------------------|
|    data    | The returned data                                             |
| hvz_status | String representation of the request status (see table below) |

#### Returned statuses:

| HTTP Status | Status String     |                                     Description                                     |
|:-----------:|-------------------|-------------------------------------------------------------------------------------|
|     200     | OK                | Request was successful                                                              |
|     201     | Created           | Request was successful, a resource was created                                      |
|     400     | Missing Parameter | Could not create resource, required paramter not provided                           |
|     400     | Already Exists    | Could not create or edit resource, a unique column already exists                   |
|     400     | In Use            | Could not delete resource, because resource is still referenced by another resource |
|     404     | Not Found         | Resource could not be found                                                         |

### Endpoints

Endpoints of the REST-API following the general REST-principle.
Autogenerated must not be set via POST or PUT.
Columns with dots indicate list of sub-json-objects.

#### /api/product

| Column          | Datatype   | Autogenerated | Description                          |
|-----------------|------------|---------------|--------------------------------------|
| id              | Integer    | Yes           | Resource ID                          |
| name            | String(80) | No            | Name of the Product                  |
| amount          | Integer    | No            | Amount currently stored              |
| required_amount | Integer    | No            | Amount that is always needed         |
| needed_amount   | Integer    | Yes           | Amount needed for the next purchase  |

#### /api/recipe

| Column          | Datatype   | Autogenerated | Description                                  |
|-----------------|------------|---------------|----------------------------------------------|
| id              | Integer    | Yes           | Resource ID                                  |
| name            | String(80) | No            | Name of the Recipe                           |
| text            | Text       | No            | Body of the Recipe                           |
| products.id     | Integer    | No            | ID of the Product                            |
| products.name   | String(80) | Yes           | Name of the Product                          |
| products.amount | Integer    | No            | Amount of the Product needed for this Recipe |

#### /api/menu

| Column       | Datatype        | Autogenerated | Description                           |
|--------------|-----------------|---------------|---------------------------------------|
| id           | Integer         | Yes           | Resource ID                           |
| date         | Timestamp       | Yes           | (deprecated, use posix_time)          |
| posix_time   | POSIX Timestamp | Yes           | Timestamp of the creation of the Menu |
| recipes.id   | Integer         | No            | ID of the Recipe used in the Menu     |
| recipes.name | String(80)      | Yes           | Name of the Recipe                    | 

## Issue Management

### Issue work flow

- Create Issue
- Assign Issue
- Create Branch for Issue FROM DEVELOPMENT ([IssueNumber]-[IssueTitle (lowerase, hyphen instead of space)])
- Work on branch
- Create Pull request from branch TO DEVELOPMENT
- Merge and delete Branch
- Close Issue with message
